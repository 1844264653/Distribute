### 第二章  单机存储系统

**单机存储引擎就是哈希表，B树等数据结构在机械磁盘，SSD等持久化介质上的实现**（**哈希存储引擎**是**哈希表的持久化实现**，**B树存储引擎**是**B树的持久化实现**，**LSM[Log Structure Merge Tree]树存储引擎采用批量转存储技术来避免磁盘随机写入**）

单机存储系统是单机存储引擎的一种封装，对外提供文件、键值，表格或者关系模型

单机存储系统的理论来源于关系数据库。

**数据库将一个或者多个操作组成一组**，**称作事务**，事务必须满足**ACID，分别是原子性Atomicity，一致性Consistency，隔离性Isolation，以及持久性Durability**

**多个事务并发执行时**，数据库的**并发控制器**必须能够保证多个事务的执行结果不能破坏某种约定，如不能出现事务执行到一半的情况，不能读取到未提交的事务，等等

为了保证持久性，对于数据库的每一个变化都要在磁盘上记录日志，当数据库系统突然发生故障，重启后能够恢复到之前一致的状态



##### 硬件基础

**摩尔定律**告诉我们，每18个月计算机等IT产品的性能会翻一番，或者说相同性能的IT产品，每18个月会降价一半。但是计算机的硬件体系架构相对保持稳定

**架构设计**很重要的一点就是合理的选择屏弃恶能够最大限度地发挥底层硬件的价值



##### cpu架构

早期cpu为**单核芯片**，但是提高单核的速度会产生过多的热量且**无法带来相应的性能改善**  ———— 设计成多核或者多个CPU

经典的多cpu架构为对称多处理结构——SMP ——Symmetric Multi-Precessing，即在一个计算机汇集了一组处理器，**它们之间对称工作，无主次或者从属关系，共享相同的物理内存以及总线**，如图





